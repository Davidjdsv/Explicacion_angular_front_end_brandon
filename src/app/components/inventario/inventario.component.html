<div>
  <h2>Inventario</h2>
  <div *ngIf="mensaje" class="alert alert-info">{{ mensaje }}</div>

  <form (ngSubmit)="agregarProdcuto()" #productoForm="ngForm">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input
        type="text"
        id="nombre"
        class="form-control"
        [(ngModel)]="nuevoProducto.nombre"
        name="nombre"
        required
      />
    </div>
    <div class="mb-3">
      <label for="categoria" class="form-label">Categoría</label>
      <input
        type="text"
        id="categoria"
        class="form-control"
        [(ngModel)]="nuevoProducto.categoria"
        name="categoria"
        required
      />
    </div>
    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea
        id="descripcion"
        class="form-control"
        [(ngModel)]="nuevoProducto.descripcion"
        name="descripcion"
        required
      ></textarea>
    </div>
    <div class="mb-3">
      <label for="precio" class="form-label">Precio</label>
      <input
        type="number"
        id="precio"
        class="form-control"
        [(ngModel)]="nuevoProducto.precio"
        name="precio"
        required
      />
    </div>
    <div class="mb-3">
      <label for="disponible" class="form-label">Disponible</label>
      <input
        type="checkbox"
        id="disponible"
        class="form-check-input"
        [(ngModel)]="nuevoProducto.disponible"
        name="disponible"
      />
    </div>
    <div class="mb-3">
      <label for="fecha_creacion" class="form-label">Fecha de Creación</label>
      <input
        type="date"
        id="fecha_creacion"
        class="form-control"
        [(ngModel)]="nuevoProducto.fecha_creacion"
        name="fecha_creacion"
        required
      />
    </div>
    <div class="mb-3">
      <label for="cantidad" class="form-label">Cantidad</label>
      <input
        type="number"
        id="cantidad"
        class="form-control"
        [(ngModel)]="nuevoProducto.cantidad"
        name="cantidad"
        required
      />
    </div>
    <button type="submit" class="btn btn-primary">Agregar Producto</button>
  </form>

  <table class="table mt-4">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Categoría</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Disponible</th>
        <th>Fecha de Creación</th>
        <th>Cantidad</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let producto of productos">
        <td>{{ producto.nombre }}</td>
        <td>{{ producto.categoria }}</td>
        <td>{{ producto.descripcion }}</td>
        <td>{{ producto.precio }}</td>
        <td>{{ producto.disponible ? "Sí" : "No" }}</td>
        <td>{{ producto.fecha_creacion | date : "shortDate" }}</td>
        <td>{{ producto.cantidad }}</td>
        <td>
          <button
            class="btn btn-danger"
            (click)="eliminarProducto(producto.id!)"
          >
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
